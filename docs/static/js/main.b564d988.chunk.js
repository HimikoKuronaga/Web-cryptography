(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,a,t){e.exports=t(17)},17:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),l=t.n(c),s=t(2),o=t(1),i=t.n(o),m=t(7),u=t(3),p=t(6),v=t.n(p),d=function(){var e=Object(u.a)(i.a.mark((function e(){var a,t,n,r,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:128,t="https://server-cryptography.herokuapp.com/affine/key?ring=".concat(a),e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.key);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(i.a.mark((function e(a,t){var n,r,c,l,s,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:128,r="https://server-cryptography.herokuapp.com/affine/verify?a=".concat(a,"&b=").concat(t,"&ring=").concat(n),e.next=4,fetch(r);case 4:return c=e.sent,e.next=7,c.json();case 7:if(l=e.sent,3!==(s=l.resp)){e.next=13;break}return e.abrupt("return",["is-valid","is-valid"]);case 13:if(2!==s){e.next=17;break}return e.abrupt("return",["is-valid","is-invalid"]);case 17:if(1!==s){e.next=21;break}return e.abrupt("return",["is-invalid","is-valid"]);case 21:return e.abrupt("return",["is-invalid","is-invalid"]);case 22:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(i.a.mark((function e(a,t,n,r){var c,l,s,o,m,u,p=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p.length>4&&void 0!==p[4]?p[4]:"encrypt",l="https://server-cryptography.herokuapp.com/affine/file/".concat(c),(s=new FormData).append("a",a),s.append("b",t),s.append("ring",n),s.append("file",r),o="encrypt"===c?r.name.split(".")[0]+".aff.txt":r.name.split(".")[0]+".txt",e.next=10,fetch(l,{method:"POST",body:s});case 10:return m=e.sent,e.next=13,m.blob();case 13:u=e.sent,v.a.saveAs(u,o);case 15:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),h=function(e){var a=e.setKey,t=Object(n.useState)([0,0,256,!1]),c=Object(s.a)(t,2),l=Object(s.a)(c[0],4),o=l[0],p=l[1],v=l[2],f=l[3],h=c[1],E=Object(n.useState)(["",""]),y=Object(s.a)(E,2),k=Object(s.a)(y[0],2),N=k[0],x=k[1],g=y[1],w=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,c,l,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.name,r=t.target.value,"a"!==n){e.next=7;break}h([r,p,v,f]),a([r,p,v]),e.next=39;break;case 7:if("b"!==n){e.next=12;break}h([o,r,v,f]),a([o,r,v]),e.next=39;break;case 12:if("auto"!==n){e.next=26;break}if(!f){e.next=18;break}h([0,0,v,!f]),a([0,0,v]),e.next=24;break;case 18:return e.next=20,d(v);case 20:c=e.sent,l=c.key,a(l),h([].concat(Object(m.a)(l),[!f]));case 24:e.next=39;break;case 26:if("alpha"!==n){e.next=39;break}if(!f){e.next=37;break}return h([0,0,r,!1]),e.next=31,d(r);case 31:s=e.sent,u=s.key,a(u),h([].concat(Object(m.a)(u),[!0])),e.next=39;break;case 37:h([o,p,r,f]),a([o,p,r]);case 39:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),b(o,p,v).then((function(e){g(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("form",null,r.a.createElement("div",{className:"form-row mb-3"},r.a.createElement("div",{className:"col-sm-1"},r.a.createElement("label",{className:"my-1 mr-1",htmlFor:"a"},"A")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"number",name:"a",id:"a",className:"form-control ".concat(N),onChange:w,value:o,readOnly:f}))),r.a.createElement("div",{className:"form-row mb-3"},r.a.createElement("div",{className:"col-sm-1"},r.a.createElement("label",{className:"my-1 mr-2",htmlFor:"b"},"B")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"number",name:"b",id:"b",className:"form-control ".concat(x),onChange:w,value:p,readOnly:f}))),r.a.createElement("div",{className:"form-row mb-3"},r.a.createElement("div",{className:"col-1"},r.a.createElement("input",{type:"checkbox",name:"auto",id:"auto",onChange:w,checked:f})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"ml-1",htmlFor:"auto"},"Generar automaticamente"))),r.a.createElement("div",{className:"form-row mb-3"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"ml-1",htmlFor:"alpha"},"Anillo")),r.a.createElement("div",{className:"col"},r.a.createElement("select",{className:"custom-select",id:"alpha",name:"alpha",onChange:w},r.a.createElement("option",{value:"256"},"256"),r.a.createElement("option",{value:"128"},"128"),r.a.createElement("option",{value:"97"},"97"),r.a.createElement("option",{value:"30"},"30"),r.a.createElement("option",{value:"239"},"239"),r.a.createElement("option",{value:"15345"},"12345"),r.a.createElement("option",{value:"99991"},"99991"),r.a.createElement("option",{value:"104729"},"104729")))),r.a.createElement("div",{className:"form-row mb-3"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"button",className:"btn  btn-primary btn-block",onClick:O},"Validar llave"))))},E=function(e){var a=e.setFile,t=e.handleFetchService,n=function(e){e.preventDefault(),"encFile"===e.target.name?t("encrypt"):"decFile"===e.target.name&&t("decrypt")};return r.a.createElement("form",null,r.a.createElement("div",{className:"form-row mb-3"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"pt-2",type:"file",name:"file",onChange:function(e){e.preventDefault(),"file"===e.target.name&&a(e.target.files[0])}})),r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn btn-primary btn-block",name:"encFile",onClick:n},"Cifrar archivo")),r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn btn-danger btn-block",name:"decFile",onClick:n},"Descifrar archivo"))))},y=function(){var e=Object(n.useState)([0,0,0]),a=Object(s.a)(e,2),t=Object(s.a)(a[0],3),c=t[0],l=t[1],o=t[2],i=a[1],m=Object(n.useState)({}),u=Object(s.a)(m,2),p=u[0],v=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-3 mt-2 mb-2"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header text-center bg-dark text-white"},"Modificar llave"),r.a.createElement("div",{className:"card-body"},r.a.createElement(h,{setKey:i})))),r.a.createElement("div",{className:"col-9 mt-2 mb-2"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header bg-dark text-white text-center"},"Affine"),r.a.createElement("div",{className:"card-body"},r.a.createElement(E,{setFile:v,handleFetchService:function(e,a){0!==c?p!=={}?f(c,l,o,p,a):window.alert("Primero debes seleccionar un archivo para ".concat(a)):window.alert("Primero debes ingresar la llave correctamente")}})))))},k=function(){var e=Object(u.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://server-cryptography.herokuapp.com/vigenere/key",e.next=3,fetch("https://server-cryptography.herokuapp.com/vigenere/key");case 3:return a=e.sent,e.next=6,a.json();case 6:return t=e.sent,e.abrupt("return",t.key);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(i.a.mark((function e(a){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://server-cryptography.herokuapp.com/vigenere/verify?key=".concat(a),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,!r.ok){e.next=12;break}return e.abrupt("return","is-valid");case 12:return e.abrupt("return","is-invalid");case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(i.a.mark((function e(a,t){var n,r,c,l,s,o,m=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>2&&void 0!==m[2]?m[2]:"encrypt",r="https://server-cryptography.herokuapp.com/vigenere/file/".concat(n),(c=new FormData).append("key",a),c.append("file",t),l="encrypt"===n?t.name.split(".")[0]+".vig.txt":t.name.split(".")[0]+".txt",e.next=8,fetch(r,{method:"POST",body:c});case 8:return s=e.sent,e.next=11,s.blob();case 11:o=e.sent,v.a.saveAs(o,l);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),g=function(e){var a=e.setKey,t=Object(n.useState)(["","",!1]),c=Object(s.a)(t,2),l=Object(s.a)(c[0],3),o=l[0],m=l[1],p=l[2],v=c[1],d=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"auto"!==t.target.name){e.next=14;break}if(!p){e.next=6;break}v([o,m,!1]),e.next=12;break;case 6:return e.next=8,k();case 8:n=e.sent,console.log(n),a(n),v([n,"is-valid",!0]);case 12:e.next=15;break;case 14:"key"===t.target.name&&(a(t.target.value),v([t.target.value,"",p]));case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(o.length>0)){e.next=9;break}return e.next=4,N(o);case 4:t=e.sent,console.log(t),v([o,t,p]),e.next=10;break;case 9:v([o,"is-invalid",p]);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("form",null,r.a.createElement("div",{className:"form-row mb-3"},r.a.createElement("div",{className:"col-2"},r.a.createElement("label",{className:"my-1",htmlFor:"key"},"Key")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control ".concat(m),name:"key",value:o,onChange:d,readOnly:p}))),r.a.createElement("div",{className:"form-row mb-3"},r.a.createElement("div",{className:"col-1"},r.a.createElement("input",{name:"auto",type:"checkbox",onChange:d,id:"auto",checked:p})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"auto",className:"ml-1 pb-1"},"Generar automaticamente"))),r.a.createElement("div",{className:"form-row mb-3"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:b},"Verificar"))))},w=function(e){var a=e.setFile,t=e.handleFetchService,n=function(e){e.preventDefault(),"encFile"===e.target.name?t("encrypt"):"decFile"===e.target.name&&t("decrypt")};return r.a.createElement("form",null,r.a.createElement("div",{className:"form-row mb-3"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"pt-2",type:"file",name:"file",onChange:function(e){e.preventDefault(),"file"===e.target.name&&a(e.target.files[0])}})),r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn btn-primary btn-block",name:"encFile",onClick:n},"Cifrar archivo")),r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn btn-danger btn-block",name:"decFile",onClick:n},"Descifrar archivo"))))},O=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)({}),o=Object(s.a)(l,2),i=o[0],m=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-3 mt-2 mb-2"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header bg-dark text-white text-center"},"Llave"),r.a.createElement("div",{className:"card-body"},r.a.createElement(g,{setKey:c})))),r.a.createElement("div",{className:"col mt-2 mb-2"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header bg-dark text-white text-center"},"Vigenere"),r.a.createElement("div",{className:"card-body"},r.a.createElement(w,{setFile:m,handleFetchService:function(e){0!==t.length?i!=={}?x(t,i,e):window.alert("Primero debes seleccionar un archivo"):window.alert("Debes proporcionar una llave")}})))))},j=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mb-3 mt-2",id:"header"},r.a.createElement("h2",{className:"text-center"},"HW_01")),r.a.createElement("div",{className:"row",id:"affine"},r.a.createElement(y,null)),r.a.createElement("div",{className:"row",id:"vigenere"},r.a.createElement(O,null)))};l.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.b564d988.chunk.js.map